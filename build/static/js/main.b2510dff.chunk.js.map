{"version":3,"sources":["images/logo.svg","components/Header.js","utils/api.js","images/basket.svg","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/AddCardPopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponse","newName","newJob","body","JSON","stringify","name","about","link","cardId","isLiked","like","dislike","avatar","authorization","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","basket","onCardClick","onCardLike","Main","useState","cards","setCards","handleCardLike","changeLikeCardStatus","newCard","newCards","map","c","catch","err","console","log","handleCardDelete","deleteCard","filter","useEffect","getInitialCards","onEditAvatar","id","onEditProfile","onAddPlace","length","Footer","PopupWithForm","isOpen","onClose","close","title","onSubmit","noValidate","children","buttonText","ImagePopup","AddCardPopup","placeholder","minLength","maxLength","pattern","required","EditProfilePopup","setName","description","setDescription","e","preventDefault","onUpdateUser","value","onChange","currentTarget","EditAvatarPopup","ref","useRef","onUpdateAvatar","current","autoComplete","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","getUserInfo","user","closeAllPopups","overlayClick","classList","contains","window","addEventListener","key","Provider","overlay","changeUserInfo","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b2510dff.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from '../images/logo.svg';\n\nfunction Header () {\n    return (\n        <header className=\"header\">\n            <img src={logo} alt=\"Лого\" className=\"header__logo\"/>\n        </header>\n    )\n}\n\nexport default Header;","\nclass Api {\n    constructor({baseUrl, headers}) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n    _getResponse(res) {\n        if (!res.ok) {\n            return Promise.reject(`Ошибка: ${res.status}`);\n        }\n        return res.json();\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'GET',\n            headers: this._headers,\n        })\n        .then((res) => this._getResponse(res))\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'GET',\n            headers: this._headers,\n        })\n        .then((res) => this._getResponse(res));\n    }\n\n    changeUserInfo(newName, newJob) {\n        return fetch(`${this._baseUrl}/users/me`, {\n          method: 'PATCH',\n          headers: this._headers,\n          body: JSON.stringify({ name: newName, about: newJob }),\n        })\n          .then((res) => this._getResponse(res));\n    }\n\n    postNewCard(name, link) {\n        return fetch(`${this._baseUrl}/cards`, {\n          method: 'POST',\n          headers: this._headers,\n          body: JSON.stringify({ name: name, link: link }),\n        })\n          .then((res) => this._getResponse(res));\n    }\n\n    changeLikeCardStatus(cardId, isLiked) {\n        return isLiked ? this.like(cardId) : this.dislike(cardId);\n    }\n\n    like(cardId) {\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n          method: 'PUT',\n          headers: this._headers,\n        })\n          .then((res) => this._getResponse(res));\n    }\n    \n    dislike(cardId) {\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n          .then((res) => this._getResponse(res))\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\n          method: 'DELETE',\n          headers: this._headers,\n        })\n          .then((res) => this._getResponse(res));\n    }\n\n    updateAvatar(link) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({ avatar: link}),\n        })\n          .then((res) => this._getResponse(res))\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-25',\n    headers: {\n        authorization: 'f5fd2afd-988c-4392-86f3-d04957b3b6e7',\n        'content-type': 'application/json',\n    }\n});\n\n\nexport default api;","export default __webpack_public_path__ + \"static/media/basket.a274c87c.svg\";","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport basket from '../images/basket.svg';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\n\nfunction Card (props) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n\n    const isOwn = props.card.owner._id === currentUser._id;\n    \n    const isLiked = props.card.likes.some(i => i._id === currentUser._id); \n    const cardLikeButtonClassName = (`button elements__button-like ${isLiked ? 'button elements__button-like_active' : ''}`);\n    \n\n    const handleClick = () => {\n        props.onCardClick(props.card)\n    }\n\n    const handleLikeClick = () => {\n        props.onCardLike(props.card)\n    }\n    \n    function handleDeleteClick() {\n        props.onCardDelete(props.card._id);\n    }\n\n    return(\n        <li className=\"elements__item\">\n            {isOwn && (\n            <button type=\"button\" aria-label=\"Удалить\" className=\"button elements__button-delete\" onClick={handleDeleteClick}>\n                <img src={basket} alt=\"Удалить\"/>\n            </button>\n            )}\n            <img className=\"elements__image\" src={props.link} alt=\"#\" onClick={handleClick}/>\n            <div className=\"elements__info\">\n                <h2 className=\"elements__title\">{props.name}</h2>\n                <div className=\"elements__place-like\">\n                    <button type=\"button\" aria-label=\"Нравится\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n                    <span className=\"elements__likes-count\">{props.likes}</span>\n                </div>\n            </div>\n        </li>\n    )\n}\n\nexport default Card;","import React from \"react\";\nimport api from \"../utils/api\";\nimport Card from \"./Card\";\nimport { CurrentUserContext } from \"../context/CurrentUserContext\";\n\nfunction Main(props){\n  const currentUser = React.useContext(CurrentUserContext); \n  const [cards, setCards] = React.useState([]);\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((res) =>{\n        setCards(res)\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n    })\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n        .then((newCard) => {\n          const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n          setCards(newCards);\n        })\n        .catch(err => {\n          console.log(`Ошибка: ${err}`)\n      })\n  }\n\n  function handleCardDelete(cardId) {\n    api.deleteCard(cardId)\n      .then(() => {\n        setCards(cards.filter((c) => c._id !== cardId));\n      })\n      .catch(err => {\n        console.log(`Ошибка: ${err}`)\n      })\n  }\n\n  return(\n    <main className=\"container\">\n      <div className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <img onClick={props.onEditAvatar}\n              className=\"profile__image\" \n              src={currentUser.avatar} \n              alt=\"Профиль фото\"/>\n          </div>\n          <div className=\"profile__info\">\n            <h1 id=\"profileName\" className=\"profile__name\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile} type=\"button\" aria-label=\"Редактировать\" className=\"button profile__edit-button\"/>\n            <p id=\"profileAbout\" className=\"profile__about\">{currentUser.about}</p>\n          </div>\n          <button onClick={props.onAddPlace} type=\"button\" aria-label=\"Добавить картинку\" className=\"button profile__button-add\"/>\n        </section>\n\n        <section className=\"elements\">\n          <ul className=\"elements__catalogue\">\n             {cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              link={card.link}\n              name={card.name}\n              likes={card.likes.length}\n              onCardClick={props.onCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n            />\n            ))}\n          </ul>\n        </section>\n      </div>\n    </main>\n  )\n}\n\nexport default Main;","function Footer () {\n    return(\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto</p>\n        </footer>\n    )\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n    return (\n        <section className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ' '}`}>\n            <div className={`popup__content popup__content_${props.name}`}>\n                <button onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\" className={`button popup__close popup__close_${props.close}`}/>\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form name={`form-${props.name}`} className={`popup__form popup__form_${props.name}`} onSubmit={props.onSubmit} noValidate>\n                    {props.children}\n                    <button type=\"submit\" className={`popup__button-submit popup__button-submit_${props.name}`}>{props.buttonText}</button>\n                </form>    \n            </div>\n        </section>\n    )\n}\n\nexport default PopupWithForm;\n","function ImagePopup(props) {\n    \n    return(\n        <div className={`popup popup_type_view ${props.isOpen ? 'popup_opened' : ' '}`}>\n            <div className=\"popup__container\">\n                <img className=\"popup__image\" src={props.link} alt=\"#\"/>\n                <button type=\"button\" aria-label=\"Закрыть\" className=\"button popup__close popup__close_image\" onClick={props.onClose}></button>\n                <p className=\"popup__caption\">{props.name}</p>\n            </div>\n        </div>\n    )\n}\n\nexport default ImagePopup;","import PopupWithForm from \"./PopupWithForm\";\n\nfunction AddCardPopup(props) {\n\n  return (\n    <PopupWithForm  name=\"form-add\"  title=\"Новое место\" buttonText='Создать' isOpen={props.isOpen}\n      onClose={props.onClose}>\n        <input\n          type=\"text\"\n          id=\"nameplace-input\"\n          className=\"popup__input popup__input_add-title\"\n          name=\"name\"\n          placeholder=\"Название\"\n          minLength=\"2\"\n          maxLength=\"30\"\n          pattern=\".{2,30}\"\n          required\n        />\n        <span id=\"nameplace-input-error\" className=\"popup__input-error\"/>\n        <input\n          type=\"url\"\n          id=\"link-input\"\n          className=\"popup__input popup__input_add-link\"\n          name=\"link\"\n          placeholder=\"Ссылка на картинку\"\n          required\n        />\n        <span id=\"link-input-error\" className=\"popup__input-error\"/>\n    </PopupWithForm>        \n  )\n}\nexport default AddCardPopup;","import React from 'react';\nimport {CurrentUserContext} from '../context/CurrentUserContext.js'\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditProfilePopup(props) {\n        // Определяем переменные внутреннего состояния\n        const [name, setName] = React.useState('');\n        const [description, setDescription] = React.useState('');\n        // Подписываемся на контекст CurrentUserContext\n        const currentUser = React.useContext(CurrentUserContext);\n      \n        React.useEffect(() => {\n          setName(currentUser.name);\n          setDescription(currentUser.about);\n        }, [currentUser]);\n      \n        // Функция-обработчик изменения инпута имени обновляет стейт name\n        function handleChangeName(e) {\n          setName(e.currentTarget.value);\n        }\n      \n        // Функция-обработчик изменения инпута занятия обновляет стейт description\n        function handleChangeDescription(e) {\n          setDescription(e.currentTarget.value);\n        }\n      \n        function handleSubmit(e) {\n            e.preventDefault();\n            props.onUpdateUser(name, description);\n        }\n    \n\n    return(\n        <PopupWithForm name=\"form-edit\" onSubmit={handleSubmit} title=\"Редактировать профиль\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose}>\n            <input\n                type=\"text\"\n                id=\"name-input\"\n                className=\"popup__input popup__input_edit-name\"\n                name=\"name\"\n                placeholder=\"Имя\"\n                minLength=\"2\"\n                maxLength=\"40\"\n                pattern=\"[A-Za-zА-ЯЁа-яё\\s-]{2,40}\"\n                value={name || ''} \n                onChange={handleChangeName}\n                required\n            />\n            <span id=\"name-input-error\" className=\"popup__input-error\"/>\n            <input\n                type=\"text\"\n                id=\"about-input\"\n                className=\"popup__input popup__input_edit-about\"\n                name=\"about\"\n                placeholder=\"О себе\"\n                minLength=\"2\"\n                maxLength=\"200\"\n                pattern=\".{2,200}\"\n                value={description || ''} \n                onChange={handleChangeDescription}\n                required\n            />\n            <span id=\"about-input-error\" className=\"popup__input-error\"/>\n        </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\n\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup (props){\n\n    const ref = React.useRef('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar(ref.current.value);\n        ref.current.value = \"\";\n    }\n\n\n    return (\n        <PopupWithForm name=\"form-newAvatar\" title=\"Обновить аватар\" buttonText='Сохранить' isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input \n                ref= {ref}\n                id=\"avatarLink\"\n                autoComplete=\"off\"\n                type=\"url\"\n                name=\"avatarLink\"\n                pattern=\"https?://.+\"\n                className=\"popup__input popup__input_avatar-link\"\n                placeholder=\"Ссылка на картинку\"\n                required\n            />\n            <span id=\"avatarLink-error\" className=\"popup__input-error\"/> \n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport AddCardPopup from './AddCardPopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport { CurrentUserContext } from '../context/CurrentUserContext';\nimport '../index.css';\nimport api from '../utils/api';\n\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState('');\n    \n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(user => {\n        setCurrentUser(user);\n      })\n      .catch(err => {\n        console.log (`Ошибка: ${err}`)\n      });\n  }, []);\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  };\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  };\n\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  };\n\n  const closeAllPopups = () => {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsImagePopupOpen(false);\n  };\n\n  const handleCardClick = (card) => {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card)\n  }\n\n  React.useEffect(() => {\n    window.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    })\n  },[])\n\n  function overlayClick(e) {\n      if (e.classList.contains('popup')){\n        closeAllPopups()\n      }\n  }\n\n  function handleUpdateUser(name, about) {\n    api.changeUserInfo(name, about)\n    .then((user) => {\n      setCurrentUser(user)\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log (`Ошибка: ${err}`)\n    });\n  }\n\n  function handleUpdateAvatar(link) {\n    api.updateAvatar(link)\n    .then(user => {\n      setCurrentUser(user);\n      closeAllPopups();\n    })\n    .catch(err => {\n      console.log (`Ошибка: ${err}`)\n    });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header/>\n        <Main \n          onEditProfile={handleEditProfileClick} \n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick} \n          onCardClick={handleCardClick}\n        />\n        <Footer/>\n        <PopupWithForm name='delete' title='Вы уверены?' buttonText='Удалить' onClose={closeAllPopups} overlay={overlayClick}/>\n        <ImagePopup \n          isOpen={isImagePopupOpen} \n          onClose={closeAllPopups} \n          card={selectedCard} \n          link={selectedCard.link} \n          name={selectedCard.name}\n          overlay={overlayClick}\n        />\n        <AddCardPopup  isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} overlay={overlayClick}/>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} overlay={overlayClick} onUpdateUser={handleUpdateUser}/> \n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} overlay={overlayClick} onUpdateAvatar={handleUpdateAvatar}/>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}